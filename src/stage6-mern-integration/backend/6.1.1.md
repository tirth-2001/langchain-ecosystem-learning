# **6.1.1 – Project Scaffold & Environment Setup**

---

## 🧠 **Theory**

### 🔹 Why We Need a Dedicated Backend

Although LangChain can run entirely in Node.js or the browser, a **backend** layer provides:

- **Security:** Keeps your API keys (OpenAI, Cohere, etc.) safe.
- **Scalability:** You can manage queues, databases, caching, and task states.
- **Integration Flexibility:** Frontend, mobile apps, or even other services can use the same backend API.
- **Extensibility:** Add RAG, multi-agent flows, or persistence later without changing the frontend.

So, this step establishes a **LangChain-aware Express server**, forming the core of your “TaskHub AI” architecture.

---

### 🔹 Core Dependencies

| Category                    | Packages                                                 | Purpose                          |
| --------------------------- | -------------------------------------------------------- | -------------------------------- |
| **Server Framework**        | `express`, `cors`, `body-parser`, `morgan`               | Core server setup                |
| **LangChain**               | `langchain`, `@langchain/openai`                         | To interact with LLMs and chains |
| **Environment & Utilities** | `dotenv`, `nodemon`, `typescript`, `ts-node`, `@types/*` | For config & TypeScript support  |

---

### 🔹 Folder Structure

A clean modular structure will help later when we introduce chains, tools, RAG, and agents.

```
TaskHubAI/
├── server/
│   ├── src/
│   │   ├── app.ts
│   │   ├── routes/
│   │   │   ├── index.ts
│   │   │   └── langchain.routes.ts
│   │   ├── controllers/
│   │   │   └── langchain.controller.ts
│   │   ├── langchain/
│   │   │   ├── chains/
│   │   │   ├── tools/
│   │   │   ├── agents/
│   │   │   └── config/
│   │   │       └── modelProvider.ts
│   │   ├── middleware/
│   │   │   └── errorHandler.ts
│   │   ├── utils/
│   │   ├── config/
│   │   │   └── env.ts
│   │   └── types/
│   ├── .env
│   ├── package.json
│   ├── tsconfig.json
│   └── nodemon.json
```

---

### 🔹 Environment Variables

Example `.env` file:

```bash
PORT=5000
OPENAI_API_KEY=sk-xxxx
NODE_ENV=development
```

---

## 💻 **Implementation (TypeScript Example)**

### 1️⃣ Initialize the Project

```bash
mkdir TaskHubAI && cd TaskHubAI
mkdir server && cd server
npm init -y
npm install express cors body-parser morgan dotenv langchain @langchain/openai
npm install -D typescript ts-node nodemon @types/express @types/node @types/cors @types/body-parser @types/morgan
npx tsc --init
```

---

### 2️⃣ Configure TypeScript (`tsconfig.json`)

```json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "CommonJS",
    "rootDir": "src",
    "outDir": "dist",
    "esModuleInterop": true,
    "strict": true,
    "resolveJsonModule": true,
    "skipLibCheck": true
  },
  "include": ["src"]
}
```

---

### 3️⃣ Create `nodemon.json`

```json
{
  "watch": ["src"],
  "ext": "ts",
  "ignore": ["dist"],
  "exec": "ts-node src/app.ts"
}
```

---

### 4️⃣ Setup `src/app.ts`

```ts
import express, { Application, Request, Response } from 'express'
import cors from 'cors'
import bodyParser from 'body-parser'
import morgan from 'morgan'
import dotenv from 'dotenv'

dotenv.config()

const app: Application = express()

// Middleware
app.use(cors())
app.use(bodyParser.json())
app.use(morgan('dev'))

// Health Check
app.get('/api/health', (req: Request, res: Response) => {
  res.status(200).json({
    status: 'ok',
    message: 'TaskHub AI backend is running 🚀',
  })
})

// Server Listen
const PORT = process.env.PORT || 5000
app.listen(PORT, () => {
  console.log(`✅ Server running on http://localhost:${PORT}`)
})
```

---

### 5️⃣ Add Scripts in `package.json`

```json
"scripts": {
  "dev": "nodemon",
  "build": "tsc",
  "start": "node dist/app.js"
}
```

---

### 6️⃣ Run the Server

```bash
npm run dev
```

Visit 👉 **[http://localhost:5000/api/health](http://localhost:5000/api/health)**

Output:

```json
{
  "status": "ok",
  "message": "TaskHub AI backend is running 🚀"
}
```

---

## ✅ **Deliverables After 6.1.1**

| Item                  | Status | Description                                 |
| --------------------- | ------ | ------------------------------------------- |
| Express + TS setup    | ✅     | Base backend with TypeScript and hot reload |
| LangChain ready       | ✅     | Dependencies installed, environment ready   |
| Modular structure     | ✅     | Prepared for chains, tools, and agents      |
| Health check endpoint | ✅     | Confirms backend boot successful            |
