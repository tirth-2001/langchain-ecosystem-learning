# **6.1.1 â€“ Project Scaffold & Environment Setup**

---

## ğŸ§  **Theory**

### ğŸ”¹ Why We Need a Dedicated Backend

Although LangChain can run entirely in Node.js or the browser, a **backend** layer provides:

- **Security:** Keeps your API keys (OpenAI, Cohere, etc.) safe.
- **Scalability:** You can manage queues, databases, caching, and task states.
- **Integration Flexibility:** Frontend, mobile apps, or even other services can use the same backend API.
- **Extensibility:** Add RAG, multi-agent flows, or persistence later without changing the frontend.

So, this step establishes a **LangChain-aware Express server**, forming the core of your â€œTaskHub AIâ€ architecture.

---

### ğŸ”¹ Core Dependencies

| Category                    | Packages                                                 | Purpose                          |
| --------------------------- | -------------------------------------------------------- | -------------------------------- |
| **Server Framework**        | `express`, `cors`, `body-parser`, `morgan`               | Core server setup                |
| **LangChain**               | `langchain`, `@langchain/openai`                         | To interact with LLMs and chains |
| **Environment & Utilities** | `dotenv`, `nodemon`, `typescript`, `ts-node`, `@types/*` | For config & TypeScript support  |

---

### ğŸ”¹ Folder Structure

A clean modular structure will help later when we introduce chains, tools, RAG, and agents.

```
TaskHubAI/
â”œâ”€â”€ server/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app.ts
â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”‚   â””â”€â”€ langchain.routes.ts
â”‚   â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”‚   â””â”€â”€ langchain.controller.ts
â”‚   â”‚   â”œâ”€â”€ langchain/
â”‚   â”‚   â”‚   â”œâ”€â”€ chains/
â”‚   â”‚   â”‚   â”œâ”€â”€ tools/
â”‚   â”‚   â”‚   â”œâ”€â”€ agents/
â”‚   â”‚   â”‚   â””â”€â”€ config/
â”‚   â”‚   â”‚       â””â”€â”€ modelProvider.ts
â”‚   â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”‚   â””â”€â”€ errorHandler.ts
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â””â”€â”€ env.ts
â”‚   â”‚   â””â”€â”€ types/
â”‚   â”œâ”€â”€ .env
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â””â”€â”€ nodemon.json
```

---

### ğŸ”¹ Environment Variables

Example `.env` file:

```bash
PORT=5000
OPENAI_API_KEY=sk-xxxx
NODE_ENV=development
```

---

## ğŸ’» **Implementation (TypeScript Example)**

### 1ï¸âƒ£ Initialize the Project

```bash
mkdir TaskHubAI && cd TaskHubAI
mkdir server && cd server
npm init -y
npm install express cors body-parser morgan dotenv langchain @langchain/openai
npm install -D typescript ts-node nodemon @types/express @types/node @types/cors @types/body-parser @types/morgan
npx tsc --init
```

---

### 2ï¸âƒ£ Configure TypeScript (`tsconfig.json`)

```json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "CommonJS",
    "rootDir": "src",
    "outDir": "dist",
    "esModuleInterop": true,
    "strict": true,
    "resolveJsonModule": true,
    "skipLibCheck": true
  },
  "include": ["src"]
}
```

---

### 3ï¸âƒ£ Create `nodemon.json`

```json
{
  "watch": ["src"],
  "ext": "ts",
  "ignore": ["dist"],
  "exec": "ts-node src/app.ts"
}
```

---

### 4ï¸âƒ£ Setup `src/app.ts`

```ts
import express, { Application, Request, Response } from 'express'
import cors from 'cors'
import bodyParser from 'body-parser'
import morgan from 'morgan'
import dotenv from 'dotenv'

dotenv.config()

const app: Application = express()

// Middleware
app.use(cors())
app.use(bodyParser.json())
app.use(morgan('dev'))

// Health Check
app.get('/api/health', (req: Request, res: Response) => {
  res.status(200).json({
    status: 'ok',
    message: 'TaskHub AI backend is running ğŸš€',
  })
})

// Server Listen
const PORT = process.env.PORT || 5000
app.listen(PORT, () => {
  console.log(`âœ… Server running on http://localhost:${PORT}`)
})
```

---

### 5ï¸âƒ£ Add Scripts in `package.json`

```json
"scripts": {
  "dev": "nodemon",
  "build": "tsc",
  "start": "node dist/app.js"
}
```

---

### 6ï¸âƒ£ Run the Server

```bash
npm run dev
```

Visit ğŸ‘‰ **[http://localhost:5000/api/health](http://localhost:5000/api/health)**

Output:

```json
{
  "status": "ok",
  "message": "TaskHub AI backend is running ğŸš€"
}
```

---

## âœ… **Deliverables After 6.1.1**

| Item                  | Status | Description                                 |
| --------------------- | ------ | ------------------------------------------- |
| Express + TS setup    | âœ…     | Base backend with TypeScript and hot reload |
| LangChain ready       | âœ…     | Dependencies installed, environment ready   |
| Modular structure     | âœ…     | Prepared for chains, tools, and agents      |
| Health check endpoint | âœ…     | Confirms backend boot successful            |
